{
  "version": 3,
  "sources": ["../../../Modules/Administration/User/Authentication/AuthUtils.ts"],
  "sourcesContent": ["import {resolveUrl, alertDialog, information } from \"@serenity-is/corelib\";\r\nexport function RemoveCurrentUserCache(UserId: number, UserName: string, Msg: string, RefreshRoles: boolean) {\r\n    var retval = GetAjaxResult(\"~/User/Auth/RemoveUserCache\", { 'UserId': UserId, 'UserName': UserName, 'RefreshRoles':RefreshRoles });\r\n    if (Msg.length > 0) {\r\n        information(Msg, null);\r\n    }\r\n    return retval;\r\n}\r\nexport function AdminRefreshUser(UserId: number, UserName: string, Msg: string, RemoveOtherRoles:boolean) {\r\n    var retval = GetAjaxResult(\"~/User/Auth/AdminRefreshUser\", { 'UserId': UserId, 'UserName': UserName,'RemoveOtherRoles': RemoveOtherRoles});\r\n    if (Msg.length > 0) {\r\n        information(Msg, null);\r\n    }\r\n    if (!(retval == \"ok\") ) {\r\n        alertDialog(retval);\r\n    }\r\n}\r\n\r\n// this functionality separated out for re-use.  You probably would want to put it someplace else\r\n// rather than this file, for use in things other than Auth-related functionality.\r\nexport function GetAjaxResult(EndPoint: string, Data: any) {\r\n\r\n    if (!EndPoint) {\r\n        return null;\r\n    }\r\n\r\n    let myresult = \"\";\r\n    let ServiceEndpoint = resolveUrl(EndPoint);\r\n\r\n    $.ajax({\r\n        type: \"post\",\r\n        dataType: \"json\",\r\n        async: false,\r\n        url: ServiceEndpoint,\r\n        data: Data,\r\n        success: function (response) {\r\n\r\n            if (response instanceof Object) {\r\n                var json = response;\r\n            }\r\n            else {\r\n                var json = $.parseJSON(response);\r\n            }\r\n\r\n            var output = json['result'];\r\n            myresult = output;\r\n\r\n\r\n        }.bind(this),\r\n        error: function (jqxhr, textStatus, error) {\r\n            console.log(error);\r\n            var err = textStatus + \", \" + error;\r\n            alertDialog(\"Error! \" + err);\r\n        }\r\n\r\n    });\r\n\r\n    return myresult;\r\n\r\n\r\n}"],
  "mappings": "sDAAA,IAAAA,EAAoD,SAC7C,SAASC,EAAuBC,EAAgBC,EAAkBC,EAAaC,EAAuB,CACzG,IAAIC,EAASC,EAAc,8BAA+B,CAAE,OAAUL,EAAQ,SAAYC,EAAU,aAAeE,CAAa,CAAC,EACjI,OAAID,EAAI,OAAS,MACb,eAAYA,EAAK,IAAI,EAElBE,CACX,CANgBE,EAAAP,EAAA,0BAOT,SAASQ,EAAiBP,EAAgBC,EAAkBC,EAAaM,EAA0B,CACtG,IAAIJ,EAASC,EAAc,+BAAgC,CAAE,OAAUL,EAAQ,SAAYC,EAAS,iBAAoBO,CAAgB,CAAC,EACrIN,EAAI,OAAS,MACb,eAAYA,EAAK,IAAI,EAEnBE,GAAU,SACZ,eAAYA,CAAM,CAE1B,CARgBE,EAAAC,EAAA,oBAYT,SAASF,EAAcI,EAAkBC,EAAW,CAEvD,GAAI,CAACD,EACD,OAAO,KAGX,IAAIE,EAAW,GACXC,KAAkB,cAAWH,CAAQ,EAEzC,SAAE,KAAK,CACH,KAAM,OACN,SAAU,OACV,MAAO,GACP,IAAKG,EACL,KAAMF,EACN,QAAS,SAAUG,EAAU,CAEzB,GAAIA,aAAoB,OACpB,IAAIC,EAAOD,MAGX,KAAIC,EAAO,EAAE,UAAUD,CAAQ,EAGnC,IAAIE,EAASD,EAAK,OAClBH,EAAWI,CAGf,EAAE,KAAK,IAAI,EACX,MAAO,SAAUC,EAAOC,EAAYC,EAAO,CACvC,QAAQ,IAAIA,CAAK,EACjB,IAAIC,EAAMF,EAAa,KAAOC,KAC9B,eAAY,UAAYC,CAAG,CAC/B,CAEJ,CAAC,EAEMR,CAGX,CAxCgBL,EAAAD,EAAA",
  "names": ["import_corelib", "RemoveCurrentUserCache", "UserId", "UserName", "Msg", "RefreshRoles", "retval", "GetAjaxResult", "__name", "AdminRefreshUser", "RemoveOtherRoles", "EndPoint", "Data", "myresult", "ServiceEndpoint", "response", "json", "output", "jqxhr", "textStatus", "error", "err"]
}
